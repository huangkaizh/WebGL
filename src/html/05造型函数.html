<script src="../js/gl_utils.js"></script>

<body bgcolor=black>
<canvas id='canvas1' width='1024' height='720'>
</canvas>
</body>

<script id="vs" type="x-shader/x-vertex">
   attribute vec3 aPosition;
   varying   vec3 vPosition;
   void main() {
      gl_Position = vec4(aPosition, 1.0);
      vPosition = aPosition;
   }
</script>

<script id="fs" type="x-shader/x-fragment">
    #ifdef GL_ES
    precision mediump float;
    #endif

    #define PI 3.14159265359
    
    uniform vec2 u_resolution;
    uniform vec2 u_mouse;
    uniform float u_time;
    
    // Plot a line on Y using a value between 0.0-1.0
    float plot(vec2 st, float pct){
      return  smoothstep( pct-0.02, pct, st.y) -
              smoothstep( pct, pct+0.02, st.y);
    }
    
    void main() {
        vec3 c;
        float l,z=u_time;
        float t = u_time;
        vec2 r = u_resolution.xy;
        for(int i=0;i<3;i++) {
            vec2 uv,p=gl_FragCoord.xy/r;
            uv=p;
            p-=.5;
            p.x*=r.x/r.y;
            z+=.07;
            l=length(p);
            uv+=p/l*(sin(z)+1.)*abs(sin(l*9.-z*2.));
            c[i]=.01/length(abs(mod(uv,1.)-.5));
        }
        gl_FragColor=vec4(c/l,t);
    }
</script>

<script>
    start_gl("canvas1", getStringFromDOMElement('vs'), getStringFromDOMElement('fs'));
</script>

